<app-header></app-header>

<!-- Form -->
<div class="container mx-auto p-4 mt-9">
    <form class="flex flex-col gap-4 max-w-md mx-auto" #contactForm="ngForm" (ngSubmit)="submitEmail(contactForm)">
        <!-- Name field -->
        <div>
            <input name="name" [(ngModel)]="contactFormValues.name" #name="ngModel" type="text" placeholder="Full Name"
                class="w-full p-2 border border-gray-300 rounded-md" required minlength="2" />
            <!-- input error message -->
            <p class="ml-1 text-red-400 text-sm" *ngIf="name.errors && name.touched && name.dirty">
                name is required
            </p>
        </div>

        <!-- Email field -->
        <div>
            <input name="email" [(ngModel)]="contactFormValues.email" #email="ngModel" type="email" placeholder="Email"
                class="w-full p-2 border border-gray-300 rounded-md" required
                pattern="[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?" />
            <!-- input error message -->
            <p class="ml-1 text-red-400 text-sm" *ngIf="email.errors && email.touched && email.dirty">
                invalid email
            </p>
        </div>

        <!-- Body field -->
        <div>
            <textarea name="body" [(ngModel)]="contactFormValues.body" #body="ngModel" cols="30" rows="6"
                class="w-full p-2 border border-gray-300 rounded-md" placeholder="Message" required
                minlength="20"></textarea>
            <!-- input error message -->
            <p class="ml-1 text-red-400 text-sm" *ngIf="body.errors && body.touched && body.dirty">
                at least write some words (20 characters length)
            </p>
        </div>

        <!-- Alert -->
        <div [ngClass]="{ hidden: !showAlert }">
            <p [ngClass]="alertColor" class="font-semibold">
                {{ alertMessage }}
            </p>
        </div>

        <!-- Submit button -->
        <button [disabled]="contactForm.invalid || onSubmit"
            class="p-2 rounded-md font-bold uppercase text-white bg-light-color border-2 border-white hover:bg-primary-color transition disabled:opacity-50 disabled:bg-light-color">
            <ng-container *ngIf="onSubmit === false; else submittingEmail">
                send
            </ng-container>
            <ng-template #submittingEmail>
                <div class="animate-spin">
                    <!-- <fa-icon [icon]="iconLoad"></fa-icon> -->
                </div>
            </ng-template>
        </button>
    </form>
</div>
